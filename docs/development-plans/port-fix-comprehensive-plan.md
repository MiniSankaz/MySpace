# à¹à¸œà¸™à¸à¸±à¸’à¸™à¸²à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²à¸à¸­à¸£à¹Œà¸•à¹à¸šà¸šà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡

**à¸ˆà¸±à¸”à¸—à¸³à¹‚à¸”à¸¢**: Development Planner Agent  
**à¸§à¸±à¸™à¸—à¸µà¹ˆ**: 2025-08-19  
**à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡ BA Requirements**: 2025-08-19 (Port Configuration System)  
**à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡ SA Specifications**: 2025-08-19 (Centralized Port Configuration)  

## ğŸ“‹ à¸ªà¸£à¸¸à¸›à¸ªà¸–à¸²à¸™à¸à¸²à¸£à¸“à¹Œà¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™

### à¸›à¸±à¸à¸«à¸²à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¹à¸à¹‰à¹„à¸‚
1. **AI Assistant Service (à¸à¸­à¸£à¹Œà¸• 4130)** - Crash à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™
2. **Market Data Service (à¸à¸­à¸£à¹Œà¸• 4170)** - à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¹„à¸”à¹‰à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ 
3. **436 à¸à¸²à¸£à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡à¸à¸­à¸£à¹Œà¸•à¹€à¸à¹ˆà¸²** - à¸à¸£à¸°à¸ˆà¸²à¸¢à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ 394 à¹„à¸Ÿà¸¥à¹Œ
4. **à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸à¸­à¸£à¹Œà¸•à¹à¸šà¸šà¸£à¸§à¸¡à¸¨à¸¹à¸™à¸¢à¹Œ** - à¹à¸à¹‰à¹„à¸‚à¸¢à¸²à¸à¹à¸¥à¸°à¹€à¸ªà¸µà¹ˆà¸¢à¸‡à¸•à¹ˆà¸­à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”

### à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¸—à¸³à¸‡à¸²à¸™à¸›à¸à¸•à¸´
- Frontend (4100) âœ…
- Gateway (4110) âœ…
- User Management (4120) âœ…
- Terminal (4140) âœ…
- Workspace (4150) âœ…
- Portfolio (4160) âœ…

## ğŸ¯ à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸à¸²à¸£à¸à¸±à¸’à¸™à¸²

1. **à¹à¸à¹‰à¹„à¸‚à¸šà¸£à¸´à¸à¸²à¸£à¸—à¸µà¹ˆà¸¡à¸µà¸›à¸±à¸à¸«à¸²à¹ƒà¸«à¹‰à¸—à¸³à¸‡à¸²à¸™à¹„à¸”à¹‰** (AI Assistant & Market Data)
2. **à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸°à¸šà¸š Centralized Port Configuration**
3. **Migrate à¸à¸­à¸£à¹Œà¸•à¹€à¸à¹ˆà¸²à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¹„à¸›à¹ƒà¸Šà¹‰à¸£à¸°à¸šà¸šà¹ƒà¸«à¸¡à¹ˆ**
4. **à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¸›à¸±à¸à¸«à¸²à¹ƒà¸™à¸­à¸™à¸²à¸„à¸•à¸”à¹‰à¸§à¸¢à¸£à¸°à¸šà¸šà¸—à¸µà¹ˆà¸¢à¸·à¸”à¸«à¸¢à¸¸à¹ˆà¸™**

## ğŸ“Š Work Breakdown Structure

```
à¹à¸à¹‰à¹„à¸‚à¸›à¸±à¸à¸«à¸²à¸à¸­à¸£à¹Œà¸•à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”
â”œâ”€â”€ Phase 1: à¹à¸à¹‰à¹„à¸‚ AI Assistant (4130) [8 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡]
â”‚   â”œâ”€â”€ Task 1.1: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸ªà¸²à¹€à¸«à¸•à¸¸ crash [2 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 1.2: à¹à¸à¹‰à¹„à¸‚ dependencies [2 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 1.3: à¸›à¸£à¸±à¸š configuration [2 à¸Šà¸¡.]
â”‚   â””â”€â”€ Task 1.4: à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™ [2 à¸Šà¸¡.]
â”‚
â”œâ”€â”€ Phase 2: à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ Market Data (4170) [6 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡]
â”‚   â”œâ”€â”€ Task 2.1: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š code à¹à¸¥à¸° dependencies [1 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 2.2: à¸ªà¸£à¹‰à¸²à¸‡ startup scripts [2 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 2.3: Configure API connections [2 à¸Šà¸¡.]
â”‚   â””â”€â”€ Task 2.4: à¸—à¸”à¸ªà¸­à¸š endpoints [1 à¸Šà¸¡.]
â”‚
â”œâ”€â”€ Phase 3: à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸°à¸šà¸š Configuration [12 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡]
â”‚   â”œâ”€â”€ Task 3.1: à¸ªà¸£à¹‰à¸²à¸‡ shared config module [4 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 3.2: à¸ªà¸£à¹‰à¸²à¸‡ TypeScript interfaces [2 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 3.3: à¸ªà¸£à¹‰à¸²à¸‡ CommonJS adapter [2 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 3.4: à¸ªà¸£à¹‰à¸²à¸‡ Shell script config [2 à¸Šà¸¡.]
â”‚   â””â”€â”€ Task 3.5: à¸ªà¸£à¹‰à¸²à¸‡ environment override [2 à¸Šà¸¡.]
â”‚
â”œâ”€â”€ Phase 4: Migration à¸à¸­à¸£à¹Œà¸•à¹€à¸à¹ˆà¸² [16 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡]
â”‚   â”œâ”€â”€ Task 4.1: à¸ªà¸£à¹‰à¸²à¸‡ migration script [4 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 4.2: Backup files à¸—à¸µà¹ˆà¸ˆà¸°à¹à¸à¹‰à¹„à¸‚ [1 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 4.3: Run migration (394 files) [8 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 4.4: Verify changes [2 à¸Šà¸¡.]
â”‚   â””â”€â”€ Task 4.5: Rollback preparation [1 à¸Šà¸¡.]
â”‚
â”œâ”€â”€ Phase 5: à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸š [8 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡]
â”‚   â”œâ”€â”€ Task 5.1: Unit tests [2 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 5.2: Integration tests [3 à¸Šà¸¡.]
â”‚   â”œâ”€â”€ Task 5.3: End-to-end tests [2 à¸Šà¸¡.]
â”‚   â””â”€â”€ Task 5.4: Performance tests [1 à¸Šà¸¡.]
â”‚
â””â”€â”€ Phase 6: Deploy & Monitor [4 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡]
    â”œâ”€â”€ Task 6.1: Deploy to staging [1 à¸Šà¸¡.]
    â”œâ”€â”€ Task 6.2: Monitor services [2 à¸Šà¸¡.]
    â””â”€â”€ Task 6.3: Documentation [1 à¸Šà¸¡.]
```

**à¹€à¸§à¸¥à¸²à¸£à¸§à¸¡à¹‚à¸”à¸¢à¸›à¸£à¸°à¸¡à¸²à¸“**: 54 à¸Šà¸±à¹ˆà¸§à¹‚à¸¡à¸‡ (6-7 à¸§à¸±à¸™à¸—à¸³à¸‡à¸²à¸™)

## âœ… Development Checklist à¸—à¸µà¹ˆà¸„à¸£à¸­à¸šà¸„à¸¥à¸¸à¸¡

### ğŸ“‹ Phase 1: à¹à¸à¹‰à¹„à¸‚ AI Assistant Service (4130)

#### Pre-Development Checklist
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š BA requirements à¸ªà¸³à¸«à¸£à¸±à¸š AI service
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š SA technical specs
- [ ] à¹€à¸•à¸£à¸µà¸¢à¸¡ development environment
- [ ] Backup service configuration à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
- [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š logs à¸‚à¸­à¸‡ crash errors

#### Implementation Tasks
- [ ] **Task 1.1: à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸ªà¸²à¹€à¸«à¸•à¸¸ crash**
  - [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š error logs à¸ˆà¸²à¸ `/services/ai-assistant/logs/`
  - [ ] Check port conflicts à¸”à¹‰à¸§à¸¢ `lsof -i :4130`
  - [ ] Review dependencies à¹ƒà¸™ package.json
  - [ ] à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š environment variables
  - Acceptance: à¸£à¸°à¸šà¸¸à¸ªà¸²à¹€à¸«à¸•à¸¸à¸—à¸µà¹ˆà¹à¸—à¹‰à¸ˆà¸£à¸´à¸‡à¸‚à¸­à¸‡à¸›à¸±à¸à¸«à¸²
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 1.2: à¹à¸à¹‰à¹„à¸‚ dependencies**
  - [ ] Update package.json dependencies
  - [ ] Fix TypeScript compilation errors
  - [ ] Resolve module import issues
  - [ ] Clear node_modules à¹à¸¥à¸° reinstall
  - Acceptance: No dependency errors
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 1.3: à¸›à¸£à¸±à¸š configuration**
  - [ ] Update port configuration à¹€à¸›à¹‡à¸™ 4130
  - [ ] Fix Claude API integration
  - [ ] Configure WebSocket connections
  - [ ] Set proper environment variables
  - Acceptance: Service starts without errors
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 1.4: à¸—à¸”à¸ªà¸­à¸šà¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™**
  - [ ] Test service startup
  - [ ] Verify API endpoints respond
  - [ ] Test Claude chat functionality
  - [ ] Check WebSocket connections
  - Acceptance: All features working
  - Time: 2 à¸Šà¸¡.

#### Testing Checklist
- [ ] Service starts on port 4130 âœ“
- [ ] Health check endpoint responds âœ“
- [ ] Chat API functional âœ“
- [ ] WebSocket streaming works âœ“
- [ ] No memory leaks detected âœ“

#### Integration Checklist
- [ ] Gateway routes to 4130 correctly âœ“
- [ ] Authentication middleware works âœ“
- [ ] Database connections stable âœ“
- [ ] Redis session management âœ“

### ğŸ“‹ Phase 2: à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™ Market Data Service (4170)

#### Pre-Development Checklist
- [ ] Review Market Data requirements
- [ ] Check Polygon.io API credentials
- [ ] Prepare test data
- [ ] Setup development database

#### Implementation Tasks
- [ ] **Task 2.1: à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸š code à¹à¸¥à¸° dependencies**
  - [ ] Review existing code structure
  - [ ] Install required packages
  - [ ] Fix compilation errors
  - [ ] Setup Prisma schema
  - Acceptance: Code compiles successfully
  - Time: 1 à¸Šà¸¡.

- [ ] **Task 2.2: à¸ªà¸£à¹‰à¸²à¸‡ startup scripts**
  - [ ] Create start.sh script
  - [ ] Add npm scripts to package.json
  - [ ] Configure PM2 process file
  - [ ] Setup logging configuration
  - Acceptance: Service starts with scripts
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 2.3: Configure API connections**
  - [ ] Setup Polygon.io API key
  - [ ] Configure mock data fallback
  - [ ] Setup WebSocket connections
  - [ ] Configure rate limiting
  - Acceptance: API connections working
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 2.4: à¸—à¸”à¸ªà¸­à¸š endpoints**
  - [ ] Test quote endpoints
  - [ ] Test historical data
  - [ ] Test real-time streaming
  - [ ] Verify data accuracy
  - Acceptance: All endpoints functional
  - Time: 1 à¸Šà¸¡.

#### Testing Checklist
- [ ] Service runs on port 4170 âœ“
- [ ] Quote API returns data âœ“
- [ ] WebSocket streaming works âœ“
- [ ] Mock data fallback works âœ“
- [ ] Rate limiting functional âœ“

### ğŸ“‹ Phase 3: à¸ªà¸£à¹‰à¸²à¸‡à¸£à¸°à¸šà¸š Centralized Configuration

#### Pre-Development Checklist
- [ ] Review all current port usages
- [ ] Design configuration schema
- [ ] Plan backward compatibility
- [ ] Prepare migration strategy

#### Implementation Tasks
- [ ] **Task 3.1: à¸ªà¸£à¹‰à¸²à¸‡ shared config module**
  - [ ] Create `/shared/config/ports.config.ts`
  - [ ] Implement singleton pattern
  - [ ] Add port validation logic
  - [ ] Create helper functions
  - Acceptance: Config module loads correctly
  - Time: 4 à¸Šà¸¡.

```typescript
// Template à¸ªà¸³à¸«à¸£à¸±à¸š ports.config.ts
export class PortConfig {
  private static instance: PortConfig;
  private config: PortConfiguration;
  
  public static getInstance(): PortConfig {
    if (!PortConfig.instance) {
      PortConfig.instance = new PortConfig();
    }
    return PortConfig.instance;
  }
  
  public getServicePort(service: string): number {
    // Implementation
  }
  
  public getServiceUrl(service: string): string {
    // Implementation
  }
}
```

- [ ] **Task 3.2: à¸ªà¸£à¹‰à¸²à¸‡ TypeScript interfaces**
  - [ ] Define PortConfiguration interface
  - [ ] Create service type definitions
  - [ ] Add validation types
  - [ ] Export type declarations
  - Acceptance: Type-safe configuration
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 3.3: à¸ªà¸£à¹‰à¸²à¸‡ CommonJS adapter**
  - [ ] Create `/shared/config/ports.cjs`
  - [ ] Implement compatibility layer
  - [ ] Add module.exports
  - [ ] Test with legacy code
  - Acceptance: Works with JS files
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 3.4: à¸ªà¸£à¹‰à¸²à¸‡ Shell script config**
  - [ ] Create `/shared/config/ports.sh`
  - [ ] Export port variables
  - [ ] Add helper functions
  - [ ] Test with bash scripts
  - Acceptance: Shell scripts can use config
  - Time: 2 à¸Šà¸¡.

```bash
# Template à¸ªà¸³à¸«à¸£à¸±à¸š ports.sh
#!/bin/bash
export PORT_FRONTEND=4100
export PORT_GATEWAY=4110
export PORT_SERVICE_USER=4120
export PORT_SERVICE_AI=4130
# ... other ports

get_service_url() {
  local service=$1
  # Implementation
}
```

- [ ] **Task 3.5: à¸ªà¸£à¹‰à¸²à¸‡ environment override**
  - [ ] Implement env variable loading
  - [ ] Add override priority logic
  - [ ] Create .env.example file
  - [ ] Document env variables
  - Acceptance: Env vars override defaults
  - Time: 2 à¸Šà¸¡.

### ğŸ“‹ Phase 4: Migration à¸à¸­à¸£à¹Œà¸•à¹€à¸à¹ˆà¸² (394 à¹„à¸Ÿà¸¥à¹Œ)

#### Pre-Development Checklist
- [ ] Backup all 394 files
- [ ] Create rollback script
- [ ] Test migration on sample files
- [ ] Prepare verification tools

#### Implementation Tasks
- [ ] **Task 4.1: à¸ªà¸£à¹‰à¸²à¸‡ migration script**
  - [ ] Create `/scripts/migrate-ports.ts`
  - [ ] Add pattern matching rules
  - [ ] Implement dry-run mode
  - [ ] Add progress tracking
  - Acceptance: Script handles all patterns
  - Time: 4 à¸Šà¸¡.

```typescript
// Migration script template
interface MigrationRule {
  pattern: RegExp;
  replacement: string;
  fileTypes: string[];
}

const migrationRules: MigrationRule[] = [
  {
    pattern: /localhost:4100/g,
    replacement: 'localhost:4100',
    fileTypes: ['.ts', '.tsx', '.js', '.jsx']
  },
  {
    pattern: /PORT=4100/g,
    replacement: 'PORT=4100',
    fileTypes: ['.sh', '.env']
  },
  // ... more rules
];
```

- [ ] **Task 4.2: Backup files à¸—à¸µà¹ˆà¸ˆà¸°à¹à¸à¹‰à¹„à¸‚**
  - [ ] Create backup directory
  - [ ] Copy all 394 files
  - [ ] Create restoration script
  - [ ] Verify backup integrity
  - Acceptance: All files backed up
  - Time: 1 à¸Šà¸¡.

- [ ] **Task 4.3: Run migration (394 files)**
  - [ ] Execute migration in batches
  - [ ] Monitor for errors
  - [ ] Log all changes
  - [ ] Verify each batch
  - Acceptance: All files migrated
  - Time: 8 à¸Šà¸¡.

#### File Groups to Migrate
```
Group 1: Frontend files (120 files)
- src/app/**/*.tsx
- src/components/**/*.tsx
- src/hooks/**/*.ts

Group 2: Service files (80 files)
- services/*/src/**/*.ts
- services/*/config/**/*.js

Group 3: Configuration files (50 files)
- *.config.js
- *.config.ts
- .env files

Group 4: Scripts (60 files)
- scripts/**/*.sh
- scripts/**/*.js
- scripts/**/*.ts

Group 5: Documentation (84 files)
- docs/**/*.md
- README files
```

- [ ] **Task 4.4: Verify changes**
  - [ ] Run grep to find remaining old ports
  - [ ] Test each service startup
  - [ ] Check API connections
  - [ ] Verify WebSocket connections
  - Acceptance: No old ports remain
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 4.5: Rollback preparation**
  - [ ] Create rollback script
  - [ ] Test rollback on sample
  - [ ] Document rollback process
  - [ ] Prepare emergency contacts
  - Acceptance: Can rollback if needed
  - Time: 1 à¸Šà¸¡.

### ğŸ“‹ Phase 5: à¸—à¸”à¸ªà¸­à¸šà¸£à¸°à¸šà¸šà¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”

#### Testing Strategy
- [ ] **Task 5.1: Unit tests**
  - [ ] Test port configuration module
  - [ ] Test individual services
  - [ ] Test helper functions
  - [ ] Verify type safety
  - Acceptance: >90% coverage
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 5.2: Integration tests**
  - [ ] Test service-to-service communication
  - [ ] Test Gateway routing
  - [ ] Test WebSocket connections
  - [ ] Test database connections
  - Acceptance: All integrations working
  - Time: 3 à¸Šà¸¡.

- [ ] **Task 5.3: End-to-end tests**
  - [ ] Test user login flow
  - [ ] Test AI chat functionality
  - [ ] Test terminal operations
  - [ ] Test portfolio features
  - Acceptance: User flows complete
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 5.4: Performance tests**
  - [ ] Load test each service
  - [ ] Test concurrent connections
  - [ ] Monitor memory usage
  - [ ] Check response times
  - Acceptance: Meets performance targets
  - Time: 1 à¸Šà¸¡.

#### Test Cases
```javascript
// Example test cases
describe('Port Configuration System', () => {
  test('should load correct ports', () => {
    const config = PortConfig.getInstance();
    expect(config.getServicePort('frontend')).toBe(4100);
    expect(config.getServicePort('aiAssistant')).toBe(4130);
  });
  
  test('should override with env variables', () => {
    process.env.PORT_SERVICE_AI = '5130';
    const config = PortConfig.getInstance();
    expect(config.getServicePort('aiAssistant')).toBe(5130);
  });
});
```

### ğŸ“‹ Phase 6: Deploy & Monitor

#### Deployment Checklist
- [ ] **Task 6.1: Deploy to staging**
  - [ ] Update staging environment
  - [ ] Deploy all services
  - [ ] Verify configurations
  - [ ] Test in staging
  - Acceptance: Staging working
  - Time: 1 à¸Šà¸¡.

- [ ] **Task 6.2: Monitor services**
  - [ ] Setup health checks
  - [ ] Configure alerts
  - [ ] Monitor logs
  - [ ] Track performance
  - Acceptance: Monitoring active
  - Time: 2 à¸Šà¸¡.

- [ ] **Task 6.3: Documentation**
  - [ ] Update port documentation
  - [ ] Create migration guide
  - [ ] Update README files
  - [ ] Create troubleshooting guide
  - Acceptance: Docs complete
  - Time: 1 à¸Šà¸¡.

## ğŸ”„ Rollback Plan

### Rollback Triggers
1. **Critical**: >3 services fail to start
2. **Major**: Gateway routing failures
3. **Minor**: Individual service issues

### Rollback Steps
```bash
# 1. Stop all services
./services/stop-all-services.sh

# 2. Restore backup files
./scripts/restore-backup.sh

# 3. Restart with old configuration
./services/start-all-services-legacy.sh

# 4. Verify services
curl http://localhost:4110/health/all
```

### Emergency Contacts
- DevOps Lead: [Contact info]
- System Admin: [Contact info]
- Development Lead: [Contact info]

## ğŸ“Š Risk Assessment & Mitigation

| Risk | Probability | Impact | Mitigation Strategy |
|------|------------|--------|-------------------|
| Service downtime during migration | Medium | High | Deploy in phases, test each phase |
| Port conflicts | Low | Medium | Pre-check all ports before migration |
| Rollback failure | Low | Critical | Multiple backup strategies |
| Performance degradation | Low | Medium | Load testing before deployment |
| Configuration errors | Medium | Medium | Automated validation checks |

## ğŸ¯ Success Criteria

### Phase 1 Success
- âœ… AI Assistant service running on port 4130
- âœ… No crash errors in logs
- âœ… All API endpoints responding
- âœ… WebSocket streaming functional

### Phase 2 Success
- âœ… Market Data service running on port 4170
- âœ… Quote API returning data
- âœ… Real-time streaming working
- âœ… Mock data fallback operational

### Phase 3 Success
- âœ… Centralized config module created
- âœ… TypeScript types defined
- âœ… CommonJS compatibility working
- âœ… Shell script integration complete

### Phase 4 Success
- âœ… All 394 files migrated
- âœ… No old port references remaining
- âœ… All services using new config
- âœ… Rollback tested and ready

### Phase 5 Success
- âœ… All tests passing
- âœ… >90% code coverage
- âœ… Performance targets met
- âœ… No memory leaks

### Phase 6 Success
- âœ… Deployed to staging/production
- âœ… All services healthy
- âœ… Monitoring active
- âœ… Documentation complete

## ğŸ“ˆ Timeline & Milestones

```
Day 1-2: Phase 1 & 2 (Fix services)
Day 3-4: Phase 3 (Build config system)
Day 5-6: Phase 4 (Migration)
Day 7: Phase 5 & 6 (Test & Deploy)
```

### Daily Checkpoints
- **Day 1 EOD**: AI Assistant running
- **Day 2 EOD**: Market Data running
- **Day 3 EOD**: Config system complete
- **Day 4 EOD**: 50% files migrated
- **Day 5 EOD**: 100% files migrated
- **Day 6 EOD**: All tests passing
- **Day 7 EOD**: Deployed and monitored

## âœ… Development Planner Self-Verification

### Prerequisites Check
- [âœ“] BA requirements document reviewed (2025-08-19)
- [âœ“] SA technical specifications reviewed (2025-08-19)
- [âœ“] Current codebase analyzed for port usage
- [âœ“] Dependencies and constraints identified

### Planning Completeness
- [âœ“] All BA requirements mapped to development tasks
- [âœ“] All SA specifications have implementation plans
- [âœ“] Task breakdown includes clear acceptance criteria
- [âœ“] Time estimates provided for all tasks
- [âœ“] Dependencies between tasks identified
- [âœ“] Risk mitigation strategies documented

### Checklist Quality
- [âœ“] Pre-development checklist complete
- [âœ“] Implementation tasks detailed with steps
- [âœ“] Testing requirements specified
- [âœ“] Integration points documented
- [âœ“] Deployment procedures included

### Documentation Created
- [âœ“] Development plan saved to: `/docs/development-plans/port-fix-comprehensive-plan.md`
- [âœ“] Checklist included in plan
- [âœ“] Work log will be updated after completion
- [âœ“] Referenced BA work from: 2025-08-19
- [âœ“] Referenced SA work from: 2025-08-19

### Ready for Development
- [âœ“] All planning artifacts complete
- [âœ“] Next agent can proceed without clarification
- [âœ“] Success criteria clearly defined

---

**à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰à¸à¸£à¹‰à¸­à¸¡à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸™à¸³à¹„à¸›à¸›à¸à¸´à¸šà¸±à¸•à¸´à¸—à¸±à¸™à¸—à¸µ**  
Development Planner Agent  
2025-08-19